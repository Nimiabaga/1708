<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Food — 1708 Hotel</title>
  <!-- use relative paths so it works via file:// -->
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

  <style>
    /* Food page-only tweaks */
    .menu-toggle{
      display:flex;justify-content:center;gap:.6rem;flex-wrap:wrap;
      margin:1rem auto 1.2rem;max-width:980px;padding:0 .6rem;
    }
    .menu-toggle a{
      padding:.55rem 1rem;border-radius:8px;font-weight:800;text-decoration:none;
      background:#0f0f0f;border:1px solid var(--logo-gold);
      color:var(--logo-gold);
      transition:box-shadow .2s ease, transform .08s ease;
    }
    .menu-toggle a:hover{ box-shadow:0 0 10px rgba(212,175,55,.22); }
    .menu-toggle a:active{
      transform:scale(.98);
      box-shadow:inset 0 -2px 0 #D4AF37,0 0 10px rgba(212,175,55,.45);
    }

    .food-info p small{ font-weight:600; opacity:.9; }

    /* ===== Golden Ticket Banner (unified style) ===== */
    .menu-banner {
      position: relative;
      padding: 1.6rem 0 1.05rem 0;
      margin: .4rem 0 1rem;
      background: linear-gradient(180deg,#111 0%, #000 60%, #000 100%);
      border: 1.5px solid #d4af37;
      border-radius: 7px;
      box-shadow:
        0 5px 24px 0 #00000050,
        0 1px 0 #000000,
        0 0 24px 0 #00000060;
      text-align: center;
    }
    .menu-banner .super-glow{
      position: absolute; inset:0; pointer-events: none; z-index:0;
      background: radial-gradient(50% 80% at 50% 70%, rgba(0,0,0,.35) 0%, rgba(212,175,55,0) 90%);
      opacity: 1;
    }
    .menu-banner h2{
      position: relative; z-index:1; margin:0;
      letter-spacing:.14em;
      text-transform: uppercase;
      font-weight: 900;
      font-size: 2rem;
      background: linear-gradient(180deg,#fffde0 0%, #ffe060 25%, #e8c131 65%, #95742a 95%, #fff7cc 100%);
      -webkit-background-clip:text; background-clip:text;
      -webkit-text-fill-color:transparent;
      -webkit-text-stroke: 2px #d4af3766;
      filter: drop-shadow(0 3px 12px #201600) drop-shadow(0 0 16px #ffedb366);
      text-shadow: 0 2px 18px #b8921c44;
    }
    .menu-banner h2::after{
      content:""; display:block; width:150px; height:2.5px; margin:.7rem auto 0;
      border-radius:2px; background: linear-gradient(90deg, transparent, #d4af37, transparent);
      box-shadow: 0 0 18px #d4af3748;
    }
    @media (max-width: 420px){
      .menu-banner h2{ font-size:1.32rem; }
      .menu-banner h2::after{ width:90px; }
    }

    /* sold-out visuals (OBÍRÍ pattern) */
    .soldout-label{
      color:#fff; background:#d91e1e; border-radius:.35em; padding:.07em .5em;
      font-weight:700; margin-left:.6em; font-size:.97em; vertical-align:middle; display:inline-block;
    }
    .food-card.soldout{ opacity:.48; }
  </style>
</head>
<body>
  <!-- Header (logo only) -->
  <header class="animate__animated animate__fadeInDown">
    <img src="images/1708.png" alt="1708 Hotel Logo" class="logo" />
  </header>

  <!-- Banner -->
  <div class="menu-banner">
    <span class="super-glow" aria-hidden="true"></span>
    <h2>Food Menu</h2>
  </div>

  <!-- Category Buttons -->
  <div class="menu-toggle">
    <a href="./appetizers-nat.html">Appetizers (National)</a>
    <a href="./appetizers-int.html">Appetizers (Inter.)</a>
    <a href="./main-dishes-nat.html">Main Dishes Nat. (Rice)</a>
    <a href="./main-dishes-int.html">Main Dishes Inter. (Pasta)</a>
    <a href="./swallows.html">Swallows</a>
    <a href="./national-soups.html">National Soups</a>
    <a href="./bbq-fries.html">BBQ-Fries</a>
    <a href="./stews-sauces.html">Stews &amp; Sauces</a>
    <a href="./breakfast-dishes.html">Breakfast Dishes</a>
    <a href="./beverages.html">Beverages</a>
    <a href="./proteins.html">Proteins</a>
  </div>

  <!-- Preview Grid (sample dishes) -->
  <main>
    <div class="food-grid">
      <!-- IMPORTANT: ids follow the OBÍRÍ pattern -> card-<slug(name)>, price-<slug(name)> -->
      <div class="food-card" id="card-english-breakfast">
        <img src="images/english-breakfast.jpg" alt="English Breakfast" />
        <div class="food-info">
          <h4>English Breakfast</h4>
          <p id="price-english-breakfast"></p>
        </div>
      </div>

      <div class="food-card" id="card-club-sandwich">
        <img src="images/club-sandwich.jpg" alt="Club Sandwich" />
        <div class="food-info">
          <h4>Club Sandwich</h4>
          <p id="price-club-sandwich"></p>
        </div>
      </div>

      <div class="food-card" id="card-french-fries">
        <img src="images/french-fries.jpg" alt="French Fries" />
        <div class="food-info">
          <h4>French Fries</h4>
          <p id="price-french-fries"></p>
        </div>
      </div>

      <div class="food-card" id="card-chicken-wings">
        <img src="images/chicken-wings.jpg" alt="Chicken Wings" />
        <div class="food-info">
          <h4>Chicken Wings</h4>
          <p id="price-chicken-wings"></p>
        </div>
      </div>
    </div>

    <div class="tray-note">Takeout ₦300</div>
  </main>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <a href="./index.html">Home</a>
    <a href="./food.html" class="active">Food</a>
    <a href="./drinks.html">Drinks</a>
    <a href="./rooms.html">Rooms</a>
    <a href="./contact.html">Contact</a>
  </nav>

  <!-- OBÍRÍ-style data injection -->
  <script>
    // 1708 backend (same pattern)
    const ENDPOINT = 'https://script.google.com/macros/s/AKfycbw5v7gImXthxWkHUaCtDdDGx4U_tts7_1JWuHA9ojyu6nm2qvHyPehZrtfEK2j5JTMy/exec';
    const TOKEN    = 'Forgive1988@';

    function formatNaira(amount) {
      if(amount==null || amount==='' || isNaN(amount)) return '₦0';
      return '₦' + Number(amount).toLocaleString();
    }
    function slug(s){
      return String(s)
        .normalize("NFD").replace(/[\u0300-\u036f]/g, "")
        .replace(/[^a-z0-9]/gi,'-')
        .replace(/-+/g,'-')
        .toLowerCase()
        .replace(/-$/,'');
    }
    function priceIdFromName(name){ return 'price-' + slug(name); }
    function cardIdFromName(name){ return 'card-' + slug(name); }

    function injectPrices() {
      fetch(`${ENDPOINT}?token=${encodeURIComponent(TOKEN)}`)
        .then(res => res.json())
        .then(result => {
          if(!result.ok || !Array.isArray(result.rows)) return;

          result.rows.forEach(item => {
            if(String(item.type) !== 'Food' || !item.name) return;

            const priceId = priceIdFromName(item.name);
            const cardId  = cardIdFromName(item.name);
            const priceEl = document.getElementById(priceId);
            const cardEl  = document.getElementById(cardId);
            if(!priceEl || !cardEl) return;

            priceEl.innerHTML = '';
            cardEl.classList.remove('soldout');

            const available = (item.available === true) || (String(item.available).toLowerCase()==='true');
            if (available) {
              priceEl.textContent = formatNaira(item.price);
            } else {
              priceEl.innerHTML = `${formatNaira(item.price)} <span class="soldout-label">Sold Out</span>`;
              cardEl.classList.add('soldout');
            }
          });
        })
        .catch(()=>{ /* ignore network errors for now */ });
    }

    document.addEventListener('DOMContentLoaded', injectPrices);
  </script>
</body>
</html>
